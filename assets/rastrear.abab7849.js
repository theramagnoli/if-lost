import{_ as h,I as p,d as u,k as g,o as m,b as f,c as e,e as o,f as s,g as v,w as b,v as y,h as d,i as l,t as n,F as k}from"./index.c0493cc3.js";const x={data(){return{datos:[],clave:"",paso:0}},methods:{async rastrear(){const i=p(u,"viajes",this.clave.trim()),a=await g(i);if(a.exists()){this.datos=a.data();const r=Swal.mixin({toast:!0,position:"bottom",iconColor:"white",customClass:{popup:"colored-toast"},showConfirmButton:!1,timer:5e3,timerProgressBar:!0});this.datos.contacto.correo==this.usuario.correo?this.datos.alerta==0?this.paso=1:r.fire({icon:"error",title:"El viaje no existe",text:"La persona no tiene ninguna alerta activa"}):r.fire({icon:"error",title:"Al parecer no eres un contacto de confianza del autor del viaje",text:"Revisa que tu clave sea la correcta"})}else console.log("heya")},obtenerUsuario(){m(f,i=>{i||this.$router.push("/login")})}},mounted(){this.obtenerUsuario()},computed:{usuario(){return this.$store.state.usuario}}},w=s("h1",{class:"ttl-1"},"Rastrear",-1),N=s("button",{type:"submit",class:"btn-gray"},"Buscar",-1),B=s("p",{class:"note mt-4 text-gray-400"}," Recuerda que solamente podr\xE1s rastrear a una persona si te tiene entre sus contactos de confianza ",-1),C={key:0},j={class:"mt-4 grid grid-cols-2 gap-2"},D=s("p",{class:"lbl"},"Destino",-1),S={class:"note"},V=["href"],I={key:0,class:"note"},M=s("span",{class:"notettl"},"Detalles",-1),R={key:1,class:"note"},T=s("span",{class:"notettl"},"No se agregaron m\xE1s detalles",-1),U=[T],q={class:"grid grid-cols-2 gap-2"},z=s("p",{class:"lbl"},"Hora de salida",-1),A={class:"note"},E=s("p",{class:"lbl"},"Hora de regreso",-1),F={class:"note"},H={class:"grid grid-cols-2 gap-2"},G=["src"],L={key:0,class:"note"},P=s("span",{class:"notettl"},"Nota de foto",-1),J={key:1,class:"note"},K=s("span",{class:"notettl"},"No se agreg\xF3 nota de foto",-1),O=[K],Q={key:0,class:"note"},W=s("span",{class:"notettl"},"Nota",-1),X={key:1,class:"note"},Y=s("span",{class:"notettl"},"No se agreg\xF3 una nota",-1),Z=[Y];function $(i,a,r,ss,t,_){return e(),o(k,null,[w,s("div",null,[t.paso==0?(e(),o("form",{key:0,onSubmit:a[1]||(a[1]=v(c=>_.rastrear(),["prevent"])),class:"mt-4"},[b(s("input",{type:"text",placeholder:"Clave de viaje","onUpdate:modelValue":a[0]||(a[0]=c=>t.clave=c),class:"inp"},null,512),[[y,t.clave]]),N,B],32)):d("",!0)]),t.paso==1?(e(),o("div",C,[s("div",j,[s("div",null,[D,s("p",S,[l(n(t.datos.destino)+" ",1),s("a",{href:t.datos.mapa,target:"_blank",class:"font-semibold"},"(ver en Google Maps)",8,V)])]),t.datos.infodestino.length>0?(e(),o("p",I,[M,l(n(t.datos.infodestino),1)])):(e(),o("p",R,U))]),s("div",q,[s("div",null,[z,s("p",A,n(t.datos.salida),1)]),s("div",null,[E,s("p",F,n(t.datos.llegada),1)])]),s("div",H,[s("img",{src:t.datos.img,alt:"Imagen de viaje",class:"rounded-lg w-full mb-2 shadow-md"},null,8,G),t.datos.infoimg.length>0?(e(),o("p",L,[P,l(" "+n(t.datos.infoimg),1)])):(e(),o("p",J,O))]),s("div",null,[t.datos.nota.length>0?(e(),o("p",Q,[W,l(n(t.datos.nota),1)])):(e(),o("p",X,Z))])])):d("",!0)],64)}var es=h(x,[["render",$]]);export{es as default};
