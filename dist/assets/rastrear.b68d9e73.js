import{_ as h,I as p,i as u,l as g,o as m,b as f,c as e,d as o,e as s,f as v,w as b,v as y,g as d,h as l,t as n,F as x}from"./index.6399a472.js";const k={data(){return{datos:[],clave:"",paso:0}},methods:{async rastrear(){const r=p(u,"viajes",this.clave.trim()),a=await g(r),i=Swal.mixin({toast:!0,position:"bottom",iconColor:"white",customClass:{popup:"colored-toast"},showConfirmButton:!1,timer:5e3,timerProgressBar:!0});a.exists()?(this.datos=a.data(),this.datos.contacto.correo==this.usuario.correo?this.datos.alerta==null?this.paso=1:i.fire({icon:"error",title:"No se encontr\xF3 el viaje",text:"Aseg\xFArate de haber proporcionado la clave correcta"}):i.fire({icon:"error",title:"Al parecer no eres un contacto de confianza del autor del viaje",text:"Revisa que tu clave sea la correcta"})):i.fire({icon:"error",title:"No se encontr\xF3 el viaje",text:"Aseg\xFArate de haber proporcionado la clave correcta"})},obtenerUsuario(){m(f,r=>{r||this.$router.push("/login")})}},mounted(){this.obtenerUsuario()},computed:{usuario(){return this.$store.state.usuario}}},N=s("h1",{class:"ttl-1"},"Rastrear",-1),w=s("button",{type:"submit",class:"btn-gray"},"Buscar",-1),j=s("p",{class:"note mt-4 text-gray-400"}," Recuerda que solamente podr\xE1s rastrear a una persona si te tiene entre sus contactos de confianza ",-1),B={key:0},C={class:"mt-4 grid grid-cols-2 gap-2"},A=s("p",{class:"lbl"},"Destino",-1),D={class:"note"},S=["href"],V={key:0,class:"note"},I=s("span",{class:"notettl"},"Detalles",-1),M={key:1,class:"note"},R=s("span",{class:"notettl"},"No se agregaron m\xE1s detalles",-1),T=[R],U={class:"grid grid-cols-2 gap-2"},q=s("p",{class:"lbl"},"Hora de salida",-1),z={class:"note"},F=s("p",{class:"lbl"},"Hora de regreso",-1),H={class:"note"},E={class:"grid grid-cols-2 gap-2"},G=["src"],P={key:0,class:"note"},J=s("span",{class:"notettl"},"Nota de foto",-1),K={key:1,class:"note"},L=s("span",{class:"notettl"},"No se agreg\xF3 nota de foto",-1),O=[L],Q={key:0,class:"note"},W=s("span",{class:"notettl"},"Nota",-1),X={key:1,class:"note"},Y=s("span",{class:"notettl"},"No se agreg\xF3 una nota",-1),Z=[Y];function $(r,a,i,ss,t,_){return e(),o(x,null,[N,s("div",null,[t.paso==0?(e(),o("form",{key:0,onSubmit:a[1]||(a[1]=v(c=>_.rastrear(),["prevent"])),class:"mt-4"},[b(s("input",{type:"text",placeholder:"Clave de viaje","onUpdate:modelValue":a[0]||(a[0]=c=>t.clave=c),class:"inp"},null,512),[[y,t.clave]]),w,j],32)):d("",!0)]),t.paso==1?(e(),o("div",B,[s("div",C,[s("div",null,[A,s("p",D,[l(n(t.datos.destino)+" ",1),s("a",{href:t.datos.mapa,target:"_blank",class:"font-semibold"},"(ver en Google Maps)",8,S)])]),t.datos.infodestino.length>0?(e(),o("p",V,[I,l(n(t.datos.infodestino),1)])):(e(),o("p",M,T))]),s("div",U,[s("div",null,[q,s("p",z,n(t.datos.salida),1)]),s("div",null,[F,s("p",H,n(t.datos.llegada),1)])]),s("div",E,[s("img",{src:t.datos.img,alt:"Imagen de viaje",class:"rounded-lg w-full mb-2 shadow-md"},null,8,G),t.datos.infoimg.length>0?(e(),o("p",P,[J,l(" "+n(t.datos.infoimg),1)])):(e(),o("p",K,O))]),s("div",null,[t.datos.nota.length>0?(e(),o("p",Q,[W,l(n(t.datos.nota),1)])):(e(),o("p",X,Z))])])):d("",!0)],64)}var es=h(k,[["render",$]]);export{es as default};
